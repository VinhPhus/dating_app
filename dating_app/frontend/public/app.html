<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dating App</title>
    <link rel="stylesheet" href="assets/css/base.css" />
    <link rel="stylesheet" href="assets/css/messages.css" />
    <link rel="stylesheet" href="assets/css/discover.css" />
    <link rel="stylesheet" href="assets/css/profile.css" />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <i class="fas fa-heart"></i>
          <span>DatingApp</span>
        </div>
        <div class="nav-links-group">
          <a href="#" class="nav-link active" data-section="discover">
            <i class="fas fa-search"></i>
            <span>T√¨m b·∫°n</span>
          </a>
          <a href="#" class="nav-link" data-section="messages">
            <i class="fas fa-comments"></i>
            <span>Tin nh·∫Øn</span>
          </a>
          <a href="#" class="nav-link" data-section="profile">
            <i class="fas fa-user"></i>
            <span>H·ªì s∆°</span>
          </a>
        </div>
        <a href="#" id="logout" class="nav-link-logout">
          <i class="fas fa-sign-out-alt"></i>
          <span>ƒêƒÉng xu·∫•t</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Discover Section -->
      <section id="discoverSection" class="content-section active">
        <div class="discover-header">
          <!-- ƒê√£ x√≥a filter-controls c≈© ·ªü ƒë√¢y, ch·ªâ gi·ªØ l·∫°i b·ªô l·ªçc m·ªõi ·ªü d∆∞·ªõi -->
        </div>

        <div class="discover-container">
          <!-- Loading State -->
          <div id="loading" class="loading-indicator">
            <div class="spinner"></div>
            <p>ƒêang t√¨m ki·∫øm...</p>
          </div>

          <!-- Profile Card -->
          <div class="profile-card" id="profileCard" style="display: none">
            <button
              id="toggleDetailsBtn"
              class="profile-detail-btn"
              title="·∫®n/hi·ªán th√¥ng tin chi ti·∫øt"
            >
              <i class="fas fa-eye"></i>
            </button>
            <div class="card-images">
              <div class="image-slider" id="imageSlider">
                <img
                  id="currentImage"
                  src="./assets/images/default-avatar.jpg"
                  alt="Profile photo"
                />
                <div class="image-indicators" id="imageIndicators"></div>
                <button class="slider-btn prev" id="prevPhotoBtn">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <button class="slider-btn next" id="nextPhotoBtn">
                  <i class="fas fa-chevron-right"></i>
                </button>
                <!-- Overlay info -->
                <div class="card-overlay">
                  <div class="overlay-top">
                    <span class="location" id="profileLocation">üìç V·ªã tr√≠</span>
                  </div>
                  <div class="overlay-bottom" id="profileDetailsBox">
                    <div class="profile-main-info">
                      <h2 id="profileName">T√™n</h2>
                      <span id="profileAge">--</span>
                    </div>
                    <div class="profile-meta-row">
                      <span id="profileGender">
                        <i
                          class="fas fa-mars gender-icon"
                          style="color: #2196f3"
                        ></i>
                        Gi·ªõi t√≠nh
                      </span>
                      <span class="meta-sep">|</span>
                      <span id="profileHeight">
                        <i class="fas fa-ruler-vertical"></i> -- cm
                      </span>
                      <span class="meta-sep">|</span>
                      <span id="profileWeight">
                        <i class="fas fa-weight-hanging"></i> -- kg
                      </span>
                    </div>
                    <div class="profile-bio" id="profileBio">
                      Gi·ªõi thi·ªáu s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...
                    </div>
                    <div class="profile-hobbies" id="profileHobbiesTags">
                      <!-- Badge s·ªü th√≠ch s·∫Ω render ·ªü ƒë√¢y -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Card actions t√°ch ri√™ng d∆∞·ªõi card -->
          <div class="card-actions card-actions-centered" id="cardActionsBar">
            <button class="action-btn dislike" id="dislikeBtn">
              <i class="fas fa-times"></i>
            </button>
            <button class="action-btn like" id="likeBtn">
              <i class="fas fa-heart"></i>
            </button>
          </div>

          <!-- Empty State -->
          <div id="emptyState" class="empty-state">
            <p>
              R·∫•t ti·∫øc, kh√¥ng t√¨m th·∫•y ai ph√π h·ª£p v·ªõi ti√™u ch√≠ c·ªßa b·∫°n.
              <br />
              H√£y th·ª≠ thay ƒë·ªïi b·ªô l·ªçc ho·∫∑c quay l·∫°i sau nh√©!
            </p>
            <button id="refreshBtn" class="refresh-btn">Th·ª≠ l·∫°i</button>
          </div>

          <!-- Filter Button ·ªü g√≥c d∆∞·ªõi -->
          <div class="filter-controls filter-controls-bottom">
            <button id="filterToggleBtn" class="filter-toggle-btn">
              <i class="fas fa-filter"></i> B·ªô l·ªçc
            </button>
            <div id="filterDropdown" class="filter-dropdown">
              <form id="filterForm" autocomplete="off">
                <div class="filter-row">
                  <label for="genderFilter" class="filter-label"
                    >Gi·ªõi t√≠nh</label
                  >
                  <select id="genderFilter" class="filter-select">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="nam">Nam</option>
                    <option value="n·ªØ">N·ªØ</option>
                  </select>
                </div>
                <div class="filter-row">
                  <label class="filter-label">ƒê·ªô tu·ªïi</label>
                  <input
                    type="number"
                    id="minAge"
                    class="filter-input"
                    min="18"
                    max="100"
                    placeholder="T·ª´"
                  />
                  <span class="age-label">-</span>
                  <input
                    type="number"
                    id="maxAge"
                    class="filter-input"
                    min="18"
                    max="100"
                    placeholder="ƒê·∫øn"
                  />
                </div>
                <div class="filter-actions">
                  <button type="submit" class="apply-filter-btn">
                    <i class="fas fa-check"></i> √Åp d·ª•ng
                  </button>
                  <button
                    type="button"
                    id="closeFilterBtn"
                    class="close-filter-btn"
                  >
                    <i class="fas fa-times"></i> ƒê√≥ng
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Messages Section -->
      <section id="messagesSection" class="content-section">
        <div class="messages-container">
          <!-- Left Panel: Tabs + Danh s√°ch chat -->
          <div class="messages-left-panel">
            <div class="messages-header">
              <div class="messages-tabs">
                <button class="tab-btn active" data-tab="liked-you">
                  Ng∆∞·ªùi ƒë√£ like b·∫°n
                  <span class="tab-badge" id="likedBadge"></span>
                </button>
                <button class="tab-btn" data-tab="matches">
                  ƒê√£ match <span class="tab-badge" id="matchBadge"></span>
                </button>
                <button class="tab-btn" data-tab="deleted">ƒê√£ ·∫©n</button>
              </div>
            </div>
            <div class="tab-content-container">
              <div id="likedYouTab" class="tab-content">
                <div id="messagesList" class="chat-list"></div>
              </div>
              <div id="matchesTab" class="tab-content active">
                <div id="chatList" class="chat-list"></div>
              </div>
              <div id="deletedTab" class="tab-content">
                <div id="deletedMatchesList" class="chat-list"></div>
              </div>
            </div>
          </div>
          <!-- Right Panel: Chat Window -->
          <div id="chatWindow" class="chat-window">
            <div class="chat-header" id="chatHeader">
              <div class="chat-user-info">
                <button
                  id="backToListBtn"
                  class="chat-back-btn"
                  style="display: none"
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <img
                  id="chatUserAvatar"
                  src="./assets/images/default-avatar.jpg"
                  alt="User avatar"
                />
                <div>
                  <h3 id="chatUserName">Ch·ªçn cu·ªôc tr√≤ chuy·ªán</h3>
                  <span id="chatUserStatus">Tr·ª±c tuy·∫øn</span>
                </div>
              </div>
            </div>
            <div class="chat-messages" id="chatMessages">
              <div class="no-chat-selected">
                <i class="fas fa-comments"></i>
                <p>Ch·ªçn m·ªôt cu·ªôc tr√≤ chuy·ªán ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
              </div>
            </div>
            <div class="chat-input">
              <button id="attachImageBtn" class="attach-btn" title="G·ª≠i ·∫£nh">
                <i class="fas fa-image"></i>
              </button>
              <input
                type="text"
                id="messageInput"
                placeholder="Nh·∫≠p tin nh·∫Øn..."
              />
              <button id="sendBtn">
                <i class="fas fa-paper-plane"></i>
              </button>
            </div>
            <!-- Input file ·∫©n cho upload ·∫£nh -->
            <input
              type="file"
              id="imageInput"
              accept="image/*"
              style="display: none"
            />
          </div>
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profileSection" class="content-section">
        <div class="profile-container">
          <!-- Profile Preview -->
          <div id="profilePreview" class="profile-preview">
            <div class="profile-main-row">
              <div class="profile-avatar">
                <img
                  id="previewProfileImage"
                  src="./assets/images/default-avatar.jpg"
                  alt="Avatar"
                />
                <button id="changeAvatarBtn" class="change-avatar-btn">
                  <i class="fas fa-camera"></i>
                </button>
              </div>
              <div class="profile-info">
                <div class="editable-field" data-field="name">
                  <h2 id="previewProfileName" class="field-value">
                    T√™n ng∆∞·ªùi d√πng
                  </h2>
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
                <div class="profile-stats">
                  <div class="editable-field" data-field="age">
                    <span id="previewProfileAge" class="field-value">
                      -- tu·ªïi
                    </span>
                    <i class="fas fa-pencil-alt edit-icon"></i>
                  </div>
                  <div class="editable-field" data-field="gender">
                    <span id="previewProfileGender" class="field-value">
                      <i
                        class="fas fa-mars gender-icon"
                        style="color: #2196f3"
                      ></i>
                      Gi·ªõi t√≠nh
                    </span>
                    <i class="fas fa-pencil-alt edit-icon"></i>
                  </div>
                </div>
                <div class="editable-field" data-field="bio">
                  <p id="previewProfileBio" class="field-value profile-bio">
                    Gi·ªõi thi·ªáu v·ªÅ b·∫£n th√¢n...
                  </p>
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
              </div>
            </div>

            <div class="profile-details">
              <div class="detail-group">
                <h3><i class="fas fa-info-circle"></i> Th√¥ng tin chi ti·∫øt</h3>

                <div class="detail-item editable-field" data-field="birthday">
                  <i class="fas fa-birthday-cake"></i>
                  <span class="field-label">Ng√†y sinh:</span>
                  <span id="previewProfileBirthday" class="field-value"
                    >Ch∆∞a c·∫≠p nh·∫≠t</span
                  >
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
                <div class="detail-item editable-field" data-field="weight">
                  <i class="fas fa-weight-hanging"></i>
                  <span class="field-label">C√¢n n·∫∑ng:</span>
                  <span id="previewProfileWeight" class="field-value"
                    >Ch∆∞a c·∫≠p nh·∫≠t</span
                  >
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
                <div class="detail-item editable-field" data-field="height">
                  <i class="fas fa-ruler-vertical"></i>
                  <span class="field-label">Chi·ªÅu cao:</span>
                  <span id="previewProfileHeight" class="field-value"
                    >Ch∆∞a c·∫≠p nh·∫≠t</span
                  >
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
                <div class="detail-item editable-field" data-field="hobbies">
                  <i class="fas fa-heart"></i>
                  <span class="field-label">S·ªü th√≠ch:</span>
                  <span id="previewProfileHobbies" class="field-value"
                    >Ch∆∞a c·∫≠p nh·∫≠t</span
                  >
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
                <div class="detail-item editable-field" data-field="job">
                  <i class="fas fa-briefcase"></i>
                  <span class="field-label">C√¥ng vi·ªác:</span>
                  <span id="previewProfileJob" class="field-value"
                    >Ch∆∞a c·∫≠p nh·∫≠t</span
                  >
                  <i class="fas fa-pencil-alt edit-icon"></i>
                </div>
              </div>
            </div>

            <div class="profile-photos">
              <h3><i class="fas fa-images"></i> ·∫¢nh c·ªßa t√¥i</h3>
              <div id="userPhotosGallery" class="photos-grid">
                <!-- Photos will be populated here -->
              </div>
            </div>
          </div>
          <!-- Th√™m input file ·∫©n cho avatar v√† gallery -->
          <input
            type="file"
            id="editAvatar"
            accept="image/*"
            style="display: none"
          />
          <input
            type="file"
            id="editPhotos"
            accept="image/*"
            multiple
            style="display: none"
          />
        </div>
      </section>
    </main>

    <!-- Match Modal -->
    <div id="matchModal" class="match-modal">
      <div class="modal-content">
        <h2>IT'S A MATCH!</h2>
        <p>B·∫°n v√† <span id="matchName"></span> ƒë√£ t∆∞∆°ng h·ª£p!</p>
      </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
      <div class="image-modal-content">
        <button class="image-modal-close">
          <i class="fas fa-times"></i>
        </button>
        <img id="modalImage" src="" alt="Full size image" />
      </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/discover.js"></script>
    <script src="assets/js/messages.js"></script>
    <script src="assets/js/profile.js"></script>
  </body>
</html>
